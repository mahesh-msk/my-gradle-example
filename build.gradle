/*
 * This file was generated by the Gradle 'init' task.
 *
 * This generated file contains a sample Groovy project to get you started.
 * For more details take a look at the Groovy Quickstart chapter in the Gradle
 * User Manual available at https://docs.gradle.org/6.6/userguide/tutorial_groovy_projects.html
 */

plugins {
	// Apply the groovy plugin to add support for Groovy
	id 'groovy'

	// Apply the application plugin to add support for building a CLI application.
	id 'application'
	id 'java'
}

repositories {
	// Use jcenter for resolving dependencies.
	// You can declare any Maven/Ivy/file repository here.
	jcenter()
	mavenCentral()
}

dependencies {
	// Use the latest Groovy version for building this library
	implementation 'org.codehaus.groovy:groovy-all:2.5.11'

	// Use the awesome Spock testing and specification framework
	// https://mvnrepository.com/artifact/org.spockframework/spock-core
	testImplementation group: 'org.spockframework', name: 'spock-core', version: '2.2-M1-groovy-3.0'
}

application {
	// Define the main class for the application.
	mainClassName = 'my.gradle.example.App'
}

//You can redirect the resources output dir by:
//then the folder with class files (build/classes/main) will also contain your resources.
sourceSets {
	main {
		output.resourcesDir = "build/classes/main"
	}
	test {
		output.resourcesDir = "build/classes/test"
	}
}

jar {
	manifest {
		attributes "Main-Class": '$mainClassName'
	}

	from {
		configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }
	}
}
